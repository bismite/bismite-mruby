diff --git src/state.c src/state.c
index 83cbf162..cbac00b6 100644
--- src/state.c
+++ src/state.c
@@ -176,7 +176,7 @@ mrb_free_context(mrb_state *mrb, struct mrb_context *c)
   mrb_free(mrb, c);
 }
 
-int mrb_protect_atexit(mrb_state *mrb);
+void mrb_protect_atexit(mrb_state *mrb);
 
   MRB_API void
 mrb_close(mrb_state *mrb)
